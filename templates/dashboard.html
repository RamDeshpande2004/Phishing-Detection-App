<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Cyber Threat Scanner</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='style.css') }}"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&display=swap"
      rel="stylesheet"
    />
  </head>

  <body class="cyber-bg">
    <canvas id="matrix"></canvas>

    <div class="cyber-overlay">
      <div class="container text-center">
        <div class="card cyber-card mx-auto p-4" style="max-width: 520px">
          <h2 class="mb-3 cyber-title">üïµÔ∏è‚Äç‚ôÇÔ∏è Cyber Threat Scanner</h2>
          <p class="cyber-subtext mb-4">
            Enter a URL below to check if it‚Äôs safe or a phishing trap.
          </p>

          <form action="/predict" method="POST">
            <div class="mb-3">
              <input
                type="text"
                class="form-control form-control-lg cyber-input"
                name="url"
                placeholder="https://example.com"
                required
              />
            </div>
            <button type="submit" class="btn cyber-btn w-100 mt-2">
              ‚ö° Scan Now
            </button>
          </form>
        </div>
      </div>
    </div>

    <!-- Matrix Animation -->
    <script>
      const canvas = document.getElementById("matrix");
      const ctx = canvas.getContext("2d");
      canvas.height = window.innerHeight;
      canvas.width = window.innerWidth;

      const chars = "01";
      const fontSize = 16;
      const columns = canvas.width / fontSize;
      const drops = Array(Math.floor(columns)).fill(1);

      function draw() {
        ctx.fillStyle = "rgba(0, 0, 0, 0.05)";
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = "#00ffff";
        ctx.font = fontSize + "px monospace";
        for (let i = 0; i < drops.length; i++) {
          const text = chars.charAt(Math.floor(Math.random() * chars.length));
          ctx.fillText(text, i * fontSize, drops[i] * fontSize);
          if (drops[i] * fontSize > canvas.height && Math.random() > 0.975)
            drops[i] = 0;
          drops[i]++;
        }
      }

      setInterval(draw, 33);
    </script>
  </body>
</html>
