<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Detection Result</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='style.css') }}"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&display=swap"
      rel="stylesheet"
    />
  </head>

  <body class="cyber-bg">
    <canvas id="matrix"></canvas>
    <div class="cyber-overlay">
      <div class="container text-center">
        <div class="card cyber-card mx-auto p-4" style="max-width: 520px">
          <h2 class="mb-4 cyber-title">üîç Detection Result</h2>

          <div class="result-box mb-4">
            <!-- üîπ Glowing divider instead of percentage circle -->
            <div class="cyber-divider"></div>

            <p
              class="result-text {% if 'Safe' in result %}safe{% else %}danger{% endif %} mt-3"
            >
              {{ result }}
            </p>

            {% if threat %}
            <p class="cyber-subtext mt-2">‚ö†Ô∏è Threat Level: {{ threat }}</p>
            {% endif %}
          </div>

          <a href="{{ url_for('index') }}" class="btn cyber-btn-outline mt-3">
            üîÅ Scan Another URL
          </a>
        </div>
      </div>
    </div>

    <!-- Matrix Background Effect -->
    <script>
      const canvas = document.getElementById("matrix");
      const ctx = canvas.getContext("2d");
      canvas.height = window.innerHeight;
      canvas.width = window.innerWidth;
      const chars = "01";
      const fontSize = 16;
      const columns = canvas.width / fontSize;
      const drops = Array(Math.floor(columns)).fill(1);

      function draw() {
        ctx.fillStyle = "rgba(0, 0, 0, 0.05)";
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = "#00ffff";
        ctx.font = fontSize + "px monospace";
        for (let i = 0; i < drops.length; i++) {
          const text = chars.charAt(Math.floor(Math.random() * chars.length));
          ctx.fillText(text, i * fontSize, drops[i] * fontSize);
          if (drops[i] * fontSize > canvas.height && Math.random() > 0.975)
            drops[i] = 0;
          drops[i]++;
        }
      }
      setInterval(draw, 33);
    </script>
  </body>
</html>
